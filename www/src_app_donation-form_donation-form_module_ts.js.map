{"version":3,"sources":["./src/app/donation-form/donation-form-routing.module.ts","./src/app/donation-form/donation-form.module.ts","./src/app/donation-form/donation-form.page.ts","./src/app/donation-form/donation-form.page.scss","./src/app/donation-form/donation-form.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEC;AAExD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,iEAAgB;KAC5B;CACF,CAAC;IAMW,6BAA6B,SAA7B,6BAA6B;CAAG;AAAhC,6BAA6B;IAJzC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,6BAA6B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBD;AAEsC;AACvB;AACD;AACF;IAUxC,sBAAsB,SAAtB,sBAAsB;CAAG;AAAzB,sBAAsB;IARlC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,wFAA6B;YAC7B,+DAAmB;YACnB,+DAAY;SACb;QACD,YAAY,EAAE,CAAC,iEAAgB,CAAC;KACjC,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;ACf0B;AACO;AAC3B;AACQ;AACmB;IAOvD,gBAAgB,SAAhB,gBAAgB;IAK3B,YAAoB,MAAc,EACxB,eAAgC,EACjC,eAAgC;QAFrB,WAAM,GAAN,MAAM,CAAQ;QACxB,oBAAe,GAAf,eAAe,CAAiB;QACjC,oBAAe,GAAf,eAAe,CAAiB;QALzC,oBAAe,GAAG,IAAI,CAAC;QACvB,0BAAqB,GAAG,KAAK,CAAC;IAIe,CAAC;IAE9C,QAAQ;QACN,IAAI,CAAC,YAAY,GAAG,IAAI,qDAAS,CAAC;YAChC,IAAI,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE;gBACxB,UAAU,EAAE,CAAC,+DAAmB,CAAC;aAClC,CAAC;YACF,YAAY,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE;gBAChC,UAAU,EAAE,CAAC,+DAAmB,CAAC;aAClC,CAAC;YACF,KAAK,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE;gBACzB,UAAU,EAAE,CAAC,+DAAmB,CAAC;aAClC,CAAC;YACF,OAAO,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE;gBAC3B,UAAU,EAAE,CAAC,+DAAmB,CAAC;aAClC,CAAC;YACF,QAAQ,EAAE,IAAI,uDAAW,CAAC,EAAE,CAAC;YAC7B,UAAU,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE;gBAC9B,UAAU,EAAE,CAAC,+DAAmB,CAAC;aAClC,CAAC;YACF,eAAe,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE;gBACnC,UAAU,EAAE,CAAC,+DAAmB,CAAC;aAClC,CAAC;YACF,aAAa,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE;gBACjC,UAAU,EAAE,CAAC,+DAAmB,CAAC;aAClC,CAAC;YACF,cAAc,EAAE,IAAI,uDAAW,CAAC,EAAE,CAAC;YACnC,KAAK,EAAE,IAAI,uDAAW,CAAC,EAAE,CAAC;SAC3B,CAAC,CAAC;QAEH,uBAAuB;QACvB,oBAAoB;QACpB,iDAAiD;QACjD,2BAA2B;QAC3B,iCAAiC;QACjC,QAAQ;IACV,CAAC;IAED,YAAY,CAAC,GAAG,EAAE,GAAG;QACnB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;IACvD,CAAC;IAED,QAAQ;QACN,MAAM,OAAO,GAAG;YACd,GAAG,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK;YACxC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK;YACzC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK;YAChD,OAAO,EAAE,MAAM;YACf,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,KAAK;YACzD,sBAAsB,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,KAAK;YACrE,cAAc,EAAE,CAAC;oBACb,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK;oBAC/C,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK;oBACjD,MAAM,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,MAAM,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE;oBAC7G,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,KAAK;iBAChD,CAAC;SACL,CAAC;QAEF,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,EAAE;YAC/D,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;YACnC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC1B,MAAM,EAAE,cAAc;gBACtB,OAAO,EAAE,uCAAuC;gBAChD,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,GAAG,EAAE;4BACZ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wBAClC,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,KAAK;wBACX,OAAO,EAAE,CAAC,MAAM,EAAE,EAAE;4BAClB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;wBAC5B,CAAC;qBACF;iBACF;aACF,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBACZ,GAAG,CAAC,OAAO,EAAE,CAAC;YAChB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IAC/B,CAAC;CACF;;YAvGQ,mDAAM;YAEN,4EAAe;YADf,2DAAe;;AAQX,gBAAgB;IAL5B,wDAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,kFAAwC;;KAEzC,CAAC;GACW,gBAAgB,CA8F5B;AA9F4B;;;;;;;;;;;;;;;;ACX7B,iEAAe,gBAAgB,kBAAkB,wBAAwB,GAAG,0BAA0B,sBAAsB,oBAAoB,GAAG,SAAS,oCAAoC,GAAG,kCAAkC,sBAAsB,sBAAsB,GAAG,eAAe,gBAAgB,iBAAiB,GAAG,6CAA6C,u0BAAu0B,E;;;;;;;;;;;;;;;ACA3rC,iEAAe,uxGAAuxG,E","file":"src_app_donation-form_donation-form_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DonationFormPage } from './donation-form.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DonationFormPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DonationFormPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { DonationFormPageRoutingModule } from './donation-form-routing.module';\r\nimport { DonationFormPage } from './donation-form.page';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  imports: [\r\n    DonationFormPageRoutingModule,\r\n    ReactiveFormsModule,\r\n    SharedModule\r\n  ],\r\n  declarations: [DonationFormPage]\r\n})\r\nexport class DonationFormPageModule {}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { DonationService } from '../core/services/donation.service';\r\n\r\n@Component({\r\n  selector: 'app-donation-form',\r\n  templateUrl: './donation-form.page.html',\r\n  styleUrls: ['./donation-form.page.scss'],\r\n})\r\nexport class DonationFormPage implements OnInit, OnDestroy {\r\n  donationForm: FormGroup;\r\n  componentActive = true;\r\n  isSubmitionInProgress = false;\r\n\r\n  constructor(private router: Router,\r\n    private donationService: DonationService,\r\n    public alertController: AlertController) { }\r\n\r\n  ngOnInit() {\r\n    this.donationForm = new FormGroup({\r\n      name: new FormControl('', {\r\n        validators: [Validators.required],\r\n      }),\r\n      foodCategory: new FormControl('', {\r\n        validators: [Validators.required],\r\n      }),\r\n      title: new FormControl('', {\r\n        validators: [Validators.required],\r\n      }),\r\n      address: new FormControl('', {\r\n        validators: [Validators.required],\r\n      }),\r\n      quantity: new FormControl(''),\r\n      pickupDate: new FormControl('', {\r\n        validators: [Validators.required],\r\n      }),\r\n      pickupStartTime: new FormControl('', {\r\n        validators: [Validators.required],\r\n      }),\r\n      pickupEndTime: new FormControl('', {\r\n        validators: [Validators.required],\r\n      }),\r\n      additionalInfo: new FormControl(''),\r\n      photo: new FormControl(''),\r\n    });\r\n\r\n    // this.donationService\r\n    //   .getDonations()\r\n    //   .pipe(takeWhile(() => this.componentActive))\r\n    //   .subscribe((data) => {\r\n    //     console.log('data', data);\r\n    //   });\r\n  }\r\n\r\n  randomNumber(min, max) {\r\n    return Math.floor(Math.random() * (max - min) + min);\r\n  }\r\n\r\n  onSubmit() {\r\n    const payload = {\r\n      _id: this.donationForm.get('name').value,\r\n      name: this.donationForm.get('name').value,\r\n      photograph: this.donationForm.get('photo').value,\r\n      address: 'test',\r\n      cuisine_type: this.donationForm.get('foodCategory').value,\r\n      additional_information: this.donationForm.get('additionalInfo').value,\r\n      donation_hours: [{\r\n          date: this.donationForm.get('pickupDate').value,\r\n          quantity: this.donationForm.get('quantity').value,\r\n          pickup: `${this.donationForm.get('pickupStartTime').value} - ${this.donationForm.get('pickupEndTime').value}`,\r\n          address: this.donationForm.get('address').value,\r\n        }],\r\n    };\r\n\r\n    this.donationService.addDonation(payload).subscribe((response) => {\r\n      console.log(response);\r\n      this.isSubmitionInProgress = false;\r\n      this.alertController.create({\r\n        header: 'Confirmation',\r\n        message: 'Do you want to make another donation?',\r\n        buttons: [\r\n          {\r\n            text: 'No',\r\n            handler: () => {\r\n              this.router.navigate(['donor']);\r\n            }\r\n          },\r\n          {\r\n            text: 'Yes',\r\n            handler: (examID) => {\r\n              this.donationForm.reset();\r\n            }\r\n          }\r\n        ]\r\n      }).then(res => {\r\n        res.present();\r\n      });\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.componentActive = false;\r\n  }\r\n}\r\n","export default \".upload-photo {\\n  display: flex;\\n  align-items: center;\\n}\\n.upload-photo ion-icon {\\n  margin-left: 10px;\\n  font-size: 20px;\\n}\\nlabel {\\n  color: var(--ion-color-primary);\\n}\\ninput, ion-input, ion-textarea {\\n  padding-left: 5px;\\n  text-align: right;\\n}\\nion-spinner {\\n  width: 20px;\\n  height: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbmF0aW9uLWZvcm0ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FBQ0Y7QUFBRTtFQUNFLGlCQUFBO0VBQ0EsZUFBQTtBQUVKO0FBQ0E7RUFDRSwrQkFBQTtBQUVGO0FBQUE7RUFDRSxpQkFBQTtFQUNBLGlCQUFBO0FBR0Y7QUFBQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBR0YiLCJmaWxlIjoiZG9uYXRpb24tZm9ybS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudXBsb2FkLXBob3RvIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgaW9uLWljb257XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICB9XHJcbn1cclxubGFiZWwge1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XHJcbn1cclxuaW5wdXQsIGlvbi1pbnB1dCwgaW9uLXRleHRhcmVhIHtcclxuICBwYWRkaW5nLWxlZnQ6IDVweDtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG5cclxuaW9uLXNwaW5uZXJ7XHJcbiAgd2lkdGg6MjBweDtcclxuICBoZWlnaHQ6IDIwcHg7XHJcbn1cclxuIl19 */\";","export default \"<app-header></app-header>\\r\\n<ion-content color=\\\"primary\\\" class=\\\"ion-no-padding\\\" id=\\\"main-content\\\">\\r\\n  <h5 class=\\\"ion-text-center\\\">My Donation</h5>\\r\\n  <ion-card>\\r\\n    <form [formGroup]=\\\"donationForm\\\">\\r\\n      <ion-list>\\r\\n        <ion-item>\\r\\n          <ion-label color=\\\"primary\\\">Name</ion-label>\\r\\n          <ion-input formControlName=\\\"name\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label color=\\\"primary\\\">Select food category</ion-label>\\r\\n          <ion-select formControlName=\\\"foodCategory\\\">\\r\\n            <ion-select-option value=\\\"Grocery\\\">Grocery</ion-select-option>\\r\\n            <ion-select-option value=\\\"Fruits\\\">Fruits</ion-select-option>\\r\\n            <ion-select-option value=\\\"Beverages\\\">Beverages</ion-select-option>\\r\\n            <ion-select-option value=\\\"Prepared food\\\">Prepared food</ion-select-option>\\r\\n            <ion-select-option value=\\\"Other\\\">Other</ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label color=\\\"primary\\\">Food Title</ion-label>\\r\\n          <ion-input formControlName=\\\"title\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label color=\\\"primary\\\">Address</ion-label>\\r\\n          <ion-textarea formControlName=\\\"address\\\"></ion-textarea>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label color=\\\"primary\\\">Quantity</ion-label>\\r\\n          <ion-input formControlName=\\\"quantity\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label color=\\\"primary\\\">Pickup Date</ion-label>\\r\\n          <ion-datetime value=\\\"\\\" formControlName=\\\"pickupDate\\\"></ion-datetime>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label color=\\\"primary\\\">Pickup Start Time</ion-label>\\r\\n          <ion-datetime display-format=\\\"h:mm A\\\" picker-format=\\\"h:mm A\\\" value=\\\"\\\" formControlName=\\\"pickupStartTime\\\"></ion-datetime>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label color=\\\"primary\\\">Pickup End Time</ion-label>\\r\\n          <ion-datetime display-format=\\\"h:mm A\\\" picker-format=\\\"h:mm A\\\" value=\\\"\\\" formControlName=\\\"pickupEndTime\\\"></ion-datetime>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label color=\\\"primary\\\">Additonal Information</ion-label>\\r\\n          <ion-textarea formControlName=\\\"additionalInfo\\\"></ion-textarea>\\r\\n        </ion-item>\\r\\n        <ion-item >\\r\\n          <!-- <ion-label color=\\\"primary\\\" slot=\\\"start\\\">Upload Photo(s)</ion-label> -->\\r\\n          <label for=\\\"upload-photo\\\" tabindex=\\\"1\\\" class=\\\"upload-photo\\\">Upload photo<ion-icon name=\\\"cloud-upload-outline\\\" color=\\\"primary\\\"></ion-icon></label>\\r\\n          <input type=\\\"file\\\" formControlName=\\\"photo\\\" hidden id=\\\"upload-photo\\\">\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-button type=\\\"reset\\\" size=\\\"small\\\" fill=\\\"outline\\\" slot=\\\"end\\\">Reset</ion-button>\\r\\n          <ion-button type=\\\"submit\\\"  size=\\\"small\\\" slot=\\\"end\\\" (click)=\\\"onSubmit()\\\" [disabled]=\\\"!donationForm.valid || isSubmitionInProgress\\\">\\r\\n            Submit <ion-spinner name=\\\"lines\\\" *ngIf=\\\"isSubmitionInProgress\\\"></ion-spinner>\\r\\n          </ion-button>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </form>\\r\\n  </ion-card>\\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}